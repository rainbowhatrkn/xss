<!DOCTYPE html>
<html lang="en">
<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="keywords" content="XSS, hacking, challenge, TRHACKNON">
		<meta name="title" content="XSS Challenge by TRHACKNON">
		<meta name="description" content="Can you conquer this XSS challenge by TRHACKNON? Search and find out!">
		<meta property="og:title" content="XSS Challenge by TRHACKNON">
		<meta property="og:description" content="Can you conquer this XSS challenge by TRHACKNON? Search and find out!">
		<meta property="og:image" content="https://static.trkn.repl.co/xssch.jpg">
		<meta property="og:url" content="https://xss-trkn.replit.app">
		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:title" content="XSS Challenge by TRHACKNON">
		<meta name="twitter:description" content="Can you conquer this XSS challenge by TRHACKNON? Search and find out!">
		<meta name="twitter:image" content="https://static.trkn.repl.co/xssch.jpg">
		<link rel="icon" href="https://static.trkn.repl.co/hack.ico" type="image/x-icon">
		<title>XSS Challenge by TRHACKNON</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
		<style>
				body {
						background-color: #111;
						color: #FF6347;
						font-family: 'Courier New', monospace;
						margin: 20px;
						text-align: center;
				}

				h1 {
						font-size: 36px;
						background-image: linear-gradient(45deg, violet, indigo, blue, green, yellow, orange, red);
						-webkit-background-clip: text;
						color: transparent;
						display: inline-block;
						padding: 10px;
						margin-bottom: 20px;
				}

				form {
						margin-bottom: 20px;
				}

				input {
						padding: 10px;
						font-size: 16px;
						border: 2px solid #FF6347;
						background-color: #111;
						color: #FF6347;
				}

				input[type="submit"] {
						cursor: pointer;
				}

				#results {
						border: 2px solid #FF6347;
						padding: 20px;
						margin-top: 20px;
						animation: fadeInUp; /* Add animate.css class for fade in animation */
				}

				li {
						color: #00BFFF;
				}

				#xss-image {
						width: 100%;
						max-width: 600px;
						margin: 20px auto;
						border: 4px solid #FF6347;
						box-shadow: 0 0 20px rgba(255, 99, 71, 0.7);
				}
		</style>
</head>
<body>

		<h1 class="animate__animated animate__pulse">XSS Challenge by TRHACKNON</h1>

		<form action="" method="GET">
				<input type="text" name="q" placeholder="Search here...">
				<input type="submit" value="Search">
		</form>

		<div id="results" class="animate__animated animate__fadeInUp"></div>

		<img id="xss-image" src="https://static-trkn.replit.app/xssch.jpg" alt="XSS Challenge Preview">

		<script>
				document.addEventListener('DOMContentLoaded', function() {
						var q = getQueryParameter('q');

						if (q) {
								// Replace 'XSS BY' or 'XSS By' or 'XSS by' with 'trhacknon' in the payload
								q = q.replace(/XSS\s+(BY|By|by)\s+/g, 'correct by trhacknon of script of ');
								search(q, function(error, results) {
										showQueryAndResults(q, results);
								});
						}
				});

				function search(q, callback) {
						var results = [
								'Result #1',
								'Result #2',
								'this is just a little XSS challenge on an express web app by TRHACKNON'
						];
						callback(null, results);
				}

				function showQueryAndResults(q, results) {
						var resultsEl = document.querySelector('#results');
						var html = '<p>Your search query:</p><pre>' + q + '</pre><ul>';

						for (var index = 0; index < results.length; index++) {
								html += '<li>' + results[index] + '</li>';
						}

						html += '</ul>';
						resultsEl.innerHTML = html;

						// Display the XSS alert with the replaced name
						alert('welcome in trhacknon\'s challenge');
				}

				function getQueryParameter(name) {
						var pairs = window.location.search.substring(1).split('&');
						var pair;

						for (var index = 0; index < pairs.length; index++) {
								pair = pairs[index].split('=');

								if (decodeURIComponent(pair[0]) === name) {
										return decodeURIComponent(pair[1]);
								}
						}

						return false;
				}
		</script>
</body>
</html>